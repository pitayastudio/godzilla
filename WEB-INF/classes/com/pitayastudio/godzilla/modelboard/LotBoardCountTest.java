package com.pitayastudio.godzilla.modelboard;

import static org.junit.Assert.assertEquals;

import com.google.common.collect.ImmutableSet;

import com.pitayastudio.godzilla.common.Color;
import com.pitayastudio.godzilla.model.Lot;

import org.junit.Test;

public class LotBoardCountTest {
  private static void testing(
      int expectedCountOfBlackLots,
      int expectedCountOfWhiteLots,
      String boardInput) {
    LotBoard board = LotBoard.readFromString(boardInput);
    ImmutableSet<Lot> blackLots = board.getLotsOfColor(Color.B);
    assertEquals(expectedCountOfBlackLots, blackLots.size());
    ImmutableSet<Lot> whiteLots = board.getLotsOfColor(Color.W);
    assertEquals(expectedCountOfWhiteLots, whiteLots.size());
  }

  @Test public void testGetLotsOfColor() {
    testing(0, 0,
        "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  /////////////////////////////////////////////////////////////////////////////////////////////////
  // Single Eye
  /////////////////////////////////////////////////////////////////////////////////////////////////

  @Test public void testSingleEye_1() {
    testing(1, 1,
        "◦●○◦◦◦◦◦◦"
      + "◦●○◦◦◦◦◦◦"
      + "◦●○◦◦◦◦◦◦"
      + "◦●○◦◦◦◦◦◦"
      + "●●○◦◦◦◦◦◦"
      + "○○○◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testSingleEye_2() {
    testing(1, 1,
        "◦●○○◦◦◦◦◦"
      + "◦●●○◦◦◦◦◦"
      + "◦◦●○◦◦◦◦◦"
      + "●●●○◦◦◦◦◦"
      + "○○○◦◦◦◦◦◦"
      + "◦◦◦◦○◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testSingleEye_3() {
    testing(1, 1,
        "◦○○○○◦◦◦◦"
      + "○●●●○○◦◦◦"
      + "○●◦●●○◦◦◦"
      + "○●◦◦●○◦◦◦"
      + "○●●◦●○◦◦◦"
      + "○○●●●○◦◦◦"
      + "◦○○○○○◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testSingleEye_3a() {
    testing(1, 1,
        "◦○○○◦◦◦◦◦"
      + "○●●●○○◦◦◦"
      + "○●◦●●○◦◦◦"
      + "○●◦◦●○◦◦◦"
      + "○●●◦●○◦◦◦"
      + "◦○●●●○◦◦◦"  // without white at (0, 3)
      + "◦○○○○○◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testSingleEye_3b() {
    testing(1, 1,
        "◦○○○◦◦◦◦◦"
      + "○●●●○◦◦◦◦"
      + "○●◦●○○◦◦◦"
      + "○●◦◦●○◦◦◦"
      + "◦○●◦●○◦◦◦"
      + "◦○●●●○◦◦◦"
      + "◦○○○○◦◦◦◦"  // without white at (4, 2)
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testSingleEye_4() {
    testing(1, 1,
        "◦◦●○◦◦◦◦◦"
      + "●◦●○◦◦◦◦◦"
      + "◦◦●○◦◦◦◦◦"
      + "●●●○◦◦◦◦◦"
      + "○○○◦◦◦◦◦◦"
      + "◦◦◦○◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testSingleEye_5() {
    testing(1, 1,
        "◦◦◦●○◦◦◦◦"
      + "◦●●●○◦◦◦◦"
      + "◦●○○○◦◦◦◦"
      + "●●○◦◦◦◦◦◦"
      + "○○◦◦◦◦◦◦◦"
      + "◦◦○◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testSingleEye_6() {
    testing(1, 1,
        "○○○○◦◦◦◦◦"
      + "●●●○◦◦◦◦◦"
      + "◦◦●○◦◦◦◦◦"
      + "◦◦●○◦◦◦◦◦"
      + "◦◦●○◦◦◦◦◦"
      + "●●●○◦◦◦◦◦"
      + "○○○◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testSingleEye_7() {
    testing(1, 1,
        "○○○○○◦◦◦◦"
      + "●●●●○◦◦◦◦"
      + "●◦◦●○◦◦◦◦"
      + "●◦◦●○◦◦◦◦"
      + "●◦◦●○◦◦◦◦"
      + "●●●●○◦◦◦◦"
      + "○○○○◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testSingleEye_8() {
    testing(1, 1,
        "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "●●●●●●●●●"
      + "○○○○○○○○○"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  /////////////////////////////////////////////////////////////////////////////////////////////////
  // Two and Multi Eyes
  /////////////////////////////////////////////////////////////////////////////////////////////////

  @Test public void testTwoEyes_1() {
    testing(1, 1,
        "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦○◦○○"
      + "◦◦◦◦◦◦○●●"
      + "◦◦◦◦◦○●●◦"
      + "◦◦◦◦◦○●◦●");
  }

  @Test public void testTwoEyes_2() {
    testing(1, 1,
        "◦●○◦◦◦◦◦◦"
      + "●●○◦◦◦◦◦◦"
      + "◦●○◦◦◦◦◦◦"
      + "●●○◦◦◦◦◦◦"
      + "○○○◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testTwoEyes_3() {
    testing(1, 1,
        "◦●○◦◦◦◦◦◦"
      + "●●○◦◦◦◦◦◦"
      + "◦●○◦◦◦◦◦◦"
      + "◦●○◦◦◦◦◦◦"
      + "●●○◦◦◦◦◦◦"
      + "○○○◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testTwoEyes_4() {
    testing(1, 1,
        "◦●●○◦◦◦◦◦"
      + "●◦●○◦◦◦◦◦"
      + "●●○◦◦◦◦◦◦"
      + "○○○◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testTwoEyes_5() {
    testing(1, 1,
        "◦●○○◦◦◦◦◦"
      + "●◦●○◦◦◦◦◦"
      + "●◦●○◦◦◦◦◦"
      + "●●○◦◦◦◦◦◦"
      + "○○○◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testTwoEyes_6() {
    testing(1, 1,
        "◦●○◦◦◦◦◦◦"
      + "◦●○◦○◦◦◦◦"
      + "●◦●○◦◦◦◦◦"
      + "●●●○◦◦◦◦◦"
      + "○○○◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testTwoEyes_7() {
    testing(1, 1,
        "○○○○◦◦◦◦◦"
      + "●●●○◦○◦◦◦"
      + "●◦●○◦◦◦◦◦"
      + "○●◦●○◦◦◦◦"
      + "○●●●○◦◦◦◦"
      + "○○○○◦◦◦◦◦"
      + "◦◦◦◦◦○◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testTwoEyes_8() {
    testing(1, 1,
        "○○○○◦◦◦◦◦"
      + "●●●○○◦◦◦◦"
      + "●◦●○◦◦◦◦◦"
      + "○●◦●○◦◦◦◦"
      + "○●◦●○◦◦◦◦"
      + "○○●●○◦◦◦◦"
      + "◦◦○○◦◦◦◦◦"
      + "◦○◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testTwoEyes_9() {
    testing(1, 1,
        "◦●◦●○◦◦◦◦"
      + "●●◦●○◦◦◦◦"
      + "○○●●○◦◦◦◦"
      + "◦○○○○○○○○"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testTwoEyes_10() {
    testing(1, 1,
        "◦●◦●◦●◦●○"
      + "●●●○●●●●○"
      + "○○○○○○○○○"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testMultiEyes_1() {
    testing(1, 1,
        "◦●◦●◦●◦●○"
      + "●●●●●●●●○"
      + "○○○○○○○○○"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  /////////////////////////////////////////////////////////////////////////////////////////////////
  // Seki
  /////////////////////////////////////////////////////////////////////////////////////////////////

  @Test public void testSingleEnclosedVacantBlockSeki_1() {
    testing(1, 2,
        "◦○●◦●○◦◦◦"
      + "○◦●●●○◦◦◦"
      + "●●●○○○◦◦◦"
      + "○○○◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testSingleEnclosedVacantBlockSeki_2() {
    testing(1, 2,
        "◦◦○●◦●○◦◦"
      + "○○○●◦●○◦◦"
      + "○○○●●●○◦◦"
      + "○○◦●○○○◦◦"
      + "●●●●○◦◦◦◦"
      + "○○○○○◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testSingleEnclosedVacantBlockSeki_3() {
    testing(2, 1,
        "◦●◦●◦○◦○●"
      + "●●●○○○○○●"
      + "○○○○○○○●●"
      + "●●●●●●●●◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void testSingleEnclosedVacantBlockSeki_4() {
    testing(2, 2,
        "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "●●●●◦◦●◦◦"
      + "○○○○●●◦◦◦"
      + "◦◦◦◦○○●●●"
      + "◦◦○○●●○○○"
      + "◦◦○●◦●○◦○"
      + "◦◦○●●◦○○○");
  }

  @Test public void testSingleEnclosedVacantBlockSeki_5() {
    testing(2, 2,
        "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "●●◦◦◦◦◦◦◦"
      + "○○●●●●◦●◦"
      + "◦○○○●○●◦◦"
      + "◦○●●○○○●●"
      + "◦○●◦●○◦○●"
      + "◦○●●◦○○○●");
  }

  @Test public void testSingleEnclosedVacantBlockSeki_6() {
    testing(2, 1,
        "◦●◦●◦◦●◦○◦○●◦"
      + "●●●○●●○○○○○●◦"
      + "○○○○○○○○○○○●◦"
      + "●●●●●●●●●●●●◦"
      + "◦◦◦◦◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦◦◦◦◦");
  }

  @Test public void test_specialSeki_01() {
    testing(1, 1,
        "●◦●○◦●○◦○"
      + "●●●○◦●○○○"
      + "●◦●○○●○◦○"
      + "●●●●●○○○○"
      + "○○○○○○◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦"
      + "◦◦◦◦◦◦◦◦◦");
  }

  @Test public void test_specialSeki_02() {
    String boardInput =
        "◦●◦○◦●◦●○"
      + "●●○○○●●●○"
      + "○○●●●○○○○"
      + "◦○●◦●○◦◦◦"
      + "◦○●◦●○◦◦◦"
      + "◦○●◦●○○○○"
      + "◦○●◦●●●●●"
      + "◦○●◦◦◦◦◦◦"
      + "◦○●◦◦◦◦◦◦";
    testing(3, 2, boardInput);
  }
}
